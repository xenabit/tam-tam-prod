import{r as n,j as e,u as k,a as E}from"./vendor-Czmxryr-.js";import{u as N}from"./carousel-Bzu2ey52.js";import{u as O}from"./appstoresfirst-DNn6-CCo.js";import{u as y}from"./footer-ou05yifC.js";import{L as I}from"./ui-CUuf02DM.js";import{u as T,m as L}from"./framer-motion-C-ES3002.js";const H=n.createContext();function G({children:s}){const[u,o]=n.useState(window.innerWidth<=window.innerHeight);return n.useEffect(()=>{const h=()=>{o(window.innerWidth<=window.innerHeight)};let l;const r=()=>{clearTimeout(l),l=setTimeout(h,50)};return window.addEventListener("resize",r),window.addEventListener("orientationchange",r),()=>{window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r),clearTimeout(l)}},[]),e.jsx(H.Provider,{value:u,children:s})}function A(){const s=n.useContext(H);if(s===void 0)throw new Error("useOrientation must be used within an OrientationProvider");return s}const P="_Header_1c75a_2",S="_active_1c75a_15",M="_Header__menu_1c75a_20",R="_Header__toggle_1c75a_23",z="_Header__link_1c75a_62",$="_Header__logo_1c75a_87",B="_Header__space_1c75a_115",i={Header:P,active:S,Header__menu:M,Header__toggle:R,Header__link:z,Header__logo:$,Header__space:B};function K(){const[s,u]=n.useState(!1),[o,h]=n.useState(!1),[l,r]=n.useState(!1),a=O(),w=s&&a,p=k(),f=A(),g=E(),{isIntroSection:c,animalChangeCount:_}=N(),{handleNavigation:v}=y(),t=T(),x=n.useRef(_),j=w?{fill:"#5B71C1",outline:"#FCCD67"}:null,C={header:{scale:1,position:"absolute",top:"50%",left:a?0:"50%",right:"auto",x:a?0:"-50%",y:"-50%",transition:{duration:.5,ease:"easeOut"}},intro:{width:"auto",height:a?"13vh":"100%",scale:a?3.6:4.2,position:"absolute",top:a?"370%":f?"50vh":"310%",left:"50%",x:"-50%",y:"-50%",transition:{duration:.5,ease:"easeOut"}},entry:{scale:a?4.6:6,transition:{type:"spring",stiffness:100,damping:15,mass:1,duration:.5}},jump:{scale:[a?4.6:6,a?4.8:6.2,a?4.55:5.95,a?4.65:6.05,a?4.6:6],transition:{duration:.8,times:[0,.3,.6,.8,1],ease:["easeOut","easeIn","easeOut","easeIn"]}},entered:{scale:a?4.6:6,width:"auto",height:a?"13vh":"100%",position:"absolute",top:a?"370%":f?"50vh":"310%",left:"50%",x:"-50%",y:"-50%",transition:{duration:.3,ease:"easeOut"}}};n.useEffect(()=>{let d,b;return c?(t.start("intro"),o?t.start("entered"):d=setTimeout(()=>{t.start("entry").then(()=>{t.start("entered"),h(!0)})},800)):(t.stop(),t.start("header"),h(!1),r(!1)),()=>{clearTimeout(d),clearTimeout(b),t.stop()}},[c,t,a,o]),n.useEffect(()=>{c&&o&&_!==x.current&&(x.current=_,l||(r(!0),t.start("jump").then(()=>t.start("entered")).then(()=>{r(!1)})))},[_,c,o,t,l]);const m=n.useCallback(d=>{a&&u(!1),v(d,p,g)},[v,p,g,a]);return e.jsx("header",{className:`${i.Header} ${s&&a?i.active:""}`,children:e.jsxs("div",{className:i.Header__menu,children:[e.jsx(L.div,{className:i.Header__logo,variants:C,initial:"intro",animate:c?t:"header","data-testid":"header-logo","aria-label":"Логотип проекта",children:e.jsx(I,{viewBox:c?"0 0 124 150":a?"0 0 124 124":"0 0 124 150",overrideFromMenu:j})}),e.jsx("nav",{role:"navigation","aria-label":"Основная навигация",children:e.jsxs("ul",{children:[e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#slider",onClick:m,"aria-current":window.location.hash==="#anchorchar"?"page":void 0,"aria-label":"Перейти к разделу персонажей",children:e.jsx("span",{children:"Персонажи"})})}),e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#carousel",onClick:m,"aria-current":window.location.hash==="#anchorgame"?"page":void 0,"aria-label":"Перейти к разделу игр",children:e.jsx("span",{children:"Игры"})})}),e.jsx("li",{className:i.Header__space}),e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#channels",onClick:m,"aria-current":window.location.hash==="#anchorchannels"?"page":void 0,"aria-label":"Перейти к разделу наших каналов",children:e.jsx("span",{children:"Наши каналы"})})}),e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#news",onClick:m,"aria-current":window.location.hash==="#anchorapp"?"page":void 0,"aria-label":"Перейти к разделу новостей",children:e.jsx("span",{children:"Новости"})})})]})}),e.jsxs("button",{type:"button",className:i.Header__toggle,onClick:()=>u(d=>!d),"aria-label":"Открыть/закрыть меню","aria-expanded":s,"aria-controls":"main-navigation",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})]})})}export{K as H,G as O,A as u};
