import{r as a,j as e,u as y,a as S}from"./vendor-Czmxryr-.js";import{u as T}from"./carousel-2hVs74sV.js";import{u as L}from"./appstoresfirst-BZveOUVF.js";import{u as P}from"./footer-DiaQBOAq.js";import{L as A}from"./ui-BocBjo7s.js";import{u as M,m as z}from"./framer-motion-C-ES3002.js";const j=a.createContext();function Z({children:s}){const[d,f]=a.useState(window.innerWidth<=window.innerHeight);return a.useEffect(()=>{const p=()=>{f(window.innerWidth<=window.innerHeight)};let r;const l=()=>{clearTimeout(r),r=setTimeout(p,50)};return window.addEventListener("resize",l),window.addEventListener("orientationchange",l),()=>{window.removeEventListener("resize",l),window.removeEventListener("orientationchange",l),clearTimeout(r)}},[]),e.jsx(j.Provider,{value:d,children:s})}function R(){const s=a.useContext(j);if(s===void 0)throw new Error("useOrientation must be used within an OrientationProvider");return s}const $="_Header_17n6i_2",B="_blur_17n6i_15",F="_active_17n6i_18",J="_Header__toggle_17n6i_21",W="_Header__link_17n6i_63",D="_Header__menu_17n6i_76",V="_Header__logo_17n6i_89",q="_Header__space_17n6i_117",i={Header:$,blur:B,active:F,Header__toggle:J,Header__link:W,Header__menu:D,Header__logo:V,Header__space:q};function ee(){const[s,d]=a.useState(!1),[f,p]=a.useState(!1),[r,l]=a.useState(!1),[b,C]=a.useState(!1),[g,m]=a.useState(!1),t=L(),k=s&&t,v=y(),x=R(),u=S(),{isIntroSection:c,animalChangeCount:h}=T(),{handleNavigation:H}=P(),n=M(),w=a.useRef(h),I=k?{fill:"#5B71C1",outline:"#FCCD67"}:null,E={header:{scale:1,position:"absolute",top:"50%",left:t?0:"50%",right:"auto",x:t?0:"-50%",y:"-50%",transition:{duration:.5,ease:"easeOut"}},intro:{width:"auto",height:t?"13vh":"100%",scale:t?3.6:4.2,position:"absolute",top:t||x?"50vh":"310%",left:"50%",x:"-50%",y:"-50%",transition:{duration:.5,ease:"easeOut"}},entry:{scale:t?4.6:6,transition:{type:"spring",stiffness:100,damping:15,mass:1,duration:.5}},jump:{scale:[t?4.6:6,t?4.8:6.2,t?4.55:5.95,t?4.65:6.05,t?4.6:6],transition:{duration:.8,times:[0,.3,.6,.8,1],ease:["easeOut","easeIn","easeOut","easeIn"]}},entered:{scale:t?4.6:6,width:"auto",height:t?"13vh":"100%",position:"absolute",top:t||x?"50vh":"310%",left:"50%",x:"-50%",y:"-50%",transition:{duration:.3,ease:"easeOut"}}};a.useEffect(()=>{let o,O;return c?(n.start("intro"),r?n.start("entered"):o=setTimeout(()=>{n.start("entry").then(()=>{n.start("entered"),l(!0)})},800)):(n.stop(),n.start("header"),l(!1),m(!1)),()=>{clearTimeout(o),clearTimeout(O),n.stop()}},[c,n,t,r]),a.useEffect(()=>{c&&r&&h!==w.current&&(w.current=h,g||(m(!0),n.start("jump").then(()=>n.start("entered")).then(()=>{m(!1)})))},[h,c,r,n,g]),a.useEffect(()=>{const o=u.pathname==="/information";C(o)},[u.pathname]);const _=a.useCallback(o=>{t&&d(!1),H(o,v,u)},[H,v,u,t]),N=`${i.Header} ${b?i.blur:""} ${s&&t?i.active:""}`;return e.jsx("header",{className:N,children:e.jsxs("div",{className:i.Header__menu,children:[e.jsx(z.div,{className:i.Header__logo,variants:E,initial:"intro",animate:c?n:"header",style:c?{}:{zIndex:140},"data-testid":"header-logo","aria-label":"Логотип проекта",children:e.jsx(A,{viewBox:c?"0 0 124 150":t?"0 0 124 124":"0 0 124 150",overrideFromMenu:I})}),e.jsx("nav",{role:"navigation","aria-label":"Основная навигация",children:e.jsxs("ul",{children:[e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#slider",onClick:_,"aria-current":window.location.hash==="#anchorchar"?"page":void 0,"aria-label":"Перейти к разделу персонажей",children:e.jsx("span",{children:"Персонажи"})})}),e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#carousel",onClick:_,"aria-current":window.location.hash==="#anchorgame"?"page":void 0,"aria-label":"Перейти к разделу игр",children:e.jsx("span",{children:"Игры"})})}),e.jsx("li",{className:i.Header__space}),e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#channels",onClick:_,"aria-current":window.location.hash==="#anchorchannels"?"page":void 0,"aria-label":"Перейти к разделу наших каналов",children:e.jsx("span",{children:"Наши каналы"})})}),e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#news",onClick:_,"aria-current":window.location.hash==="#anchorapp"?"page":void 0,"aria-label":"Перейти к разделу новостей",children:e.jsx("span",{children:"Новости"})})})]})}),e.jsxs("button",{type:"button",className:i.Header__toggle,onClick:()=>d(o=>!o),"aria-label":"Открыть/закрыть меню","aria-expanded":s,"aria-controls":"main-navigation",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})]})})}export{ee as H,Z as O,R as u};
