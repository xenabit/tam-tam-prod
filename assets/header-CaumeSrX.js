import{r as n,j as e,u as N,a as O}from"./vendor-Czmxryr-.js";import{u as z}from"./carousel-Bzu2ey52.js";import{u as I}from"./appstoresfirst-DNn6-CCo.js";import{u as y}from"./footer-ou05yifC.js";import{L as T}from"./ui-CAdVTNZ8.js";import{u as L,m as S}from"./framer-motion-C-ES3002.js";const w=n.createContext();function Q({children:s}){const[d,m]=n.useState(window.innerWidth<=window.innerHeight);return n.useEffect(()=>{const v=()=>{m(window.innerWidth<=window.innerHeight)};let r;const o=()=>{clearTimeout(r),r=setTimeout(v,50)};return window.addEventListener("resize",o),window.addEventListener("orientationchange",o),()=>{window.removeEventListener("resize",o),window.removeEventListener("orientationchange",o),clearTimeout(r)}},[]),e.jsx(w.Provider,{value:d,children:s})}function A(){const s=n.useContext(w);if(s===void 0)throw new Error("useOrientation must be used within an OrientationProvider");return s}const M="_Header_vjr7z_2",P="_active_vjr7z_15",R="_Header__toggle_vjr7z_18",$="_Header__link_vjr7z_60",B="_Header__menu_vjr7z_73",F="_Header__logo_vjr7z_86",J="_Header__space_vjr7z_114",i={Header:M,active:P,Header__toggle:R,Header__link:$,Header__menu:B,Header__logo:F,Header__space:J};function U(){const[s,d]=n.useState(!1),[m,v]=n.useState(!1),[r,o]=n.useState(!1),[p,_]=n.useState(!1),t=I(),C=s&&t,f=N(),g=A(),x=O(),{isIntroSection:l,animalChangeCount:u}=z(),{handleNavigation:j}=y(),a=L(),H=n.useRef(u),b=C?{fill:"#5B71C1",outline:"#FCCD67"}:null,k={header:{scale:1,position:"absolute",top:"50%",left:t?0:"50%",right:"auto",x:t?0:"-50%",y:"-50%",transition:{duration:.5,ease:"easeOut"}},intro:{width:"auto",height:t?"13vh":"100%",scale:t?3.6:4.2,position:"absolute",top:t||g?"50vh":"310%",left:"50%",x:"-50%",y:"-50%",transition:{duration:.5,ease:"easeOut"}},entry:{scale:t?4.6:6,transition:{type:"spring",stiffness:100,damping:15,mass:1,duration:.5}},jump:{scale:[t?4.6:6,t?4.8:6.2,t?4.55:5.95,t?4.65:6.05,t?4.6:6],transition:{duration:.8,times:[0,.3,.6,.8,1],ease:["easeOut","easeIn","easeOut","easeIn"]}},entered:{scale:t?4.6:6,width:"auto",height:t?"13vh":"100%",position:"absolute",top:t||g?"50vh":"310%",left:"50%",x:"-50%",y:"-50%",transition:{duration:.3,ease:"easeOut"}}};n.useEffect(()=>{let c,E;return l?(a.start("intro"),r?a.start("entered"):c=setTimeout(()=>{a.start("entry").then(()=>{a.start("entered"),o(!0)})},800)):(a.stop(),a.start("header"),o(!1),_(!1)),()=>{clearTimeout(c),clearTimeout(E),a.stop()}},[l,a,t,r]),n.useEffect(()=>{l&&r&&u!==H.current&&(H.current=u,p||(_(!0),a.start("jump").then(()=>a.start("entered")).then(()=>{_(!1)})))},[u,l,r,a,p]);const h=n.useCallback(c=>{t&&d(!1),j(c,f,x)},[j,f,x,t]);return e.jsx("header",{className:`${i.Header} ${s&&t?i.active:""}`,children:e.jsxs("div",{className:i.Header__menu,children:[e.jsx(S.div,{className:i.Header__logo,variants:k,initial:"intro",animate:l?a:"header",style:l?{}:{zIndex:140},"data-testid":"header-logo","aria-label":"Логотип проекта",children:e.jsx(T,{viewBox:l?"0 0 124 150":t?"0 0 124 124":"0 0 124 150",overrideFromMenu:b})}),e.jsx("nav",{role:"navigation","aria-label":"Основная навигация",children:e.jsxs("ul",{children:[e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#slider",onClick:h,"aria-current":window.location.hash==="#anchorchar"?"page":void 0,"aria-label":"Перейти к разделу персонажей",children:e.jsx("span",{children:"Персонажи"})})}),e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#carousel",onClick:h,"aria-current":window.location.hash==="#anchorgame"?"page":void 0,"aria-label":"Перейти к разделу игр",children:e.jsx("span",{children:"Игры"})})}),e.jsx("li",{className:i.Header__space}),e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#channels",onClick:h,"aria-current":window.location.hash==="#anchorchannels"?"page":void 0,"aria-label":"Перейти к разделу наших каналов",children:e.jsx("span",{children:"Наши каналы"})})}),e.jsx("li",{className:i.Header__link,children:e.jsx("a",{href:"#news",onClick:h,"aria-current":window.location.hash==="#anchorapp"?"page":void 0,"aria-label":"Перейти к разделу новостей",children:e.jsx("span",{children:"Новости"})})})]})}),e.jsxs("button",{type:"button",className:i.Header__toggle,onClick:()=>d(c=>!c),"aria-label":"Открыть/закрыть меню","aria-expanded":s,"aria-controls":"main-navigation",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})]})})}export{U as H,Q as O,A as u};
