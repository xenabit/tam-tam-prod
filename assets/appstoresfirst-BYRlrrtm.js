import{r,j as t,g as A}from"./vendor-CkbNOv59.js";const F=r.createContext();function U({children:p}){const[g,d]=r.useState(!1);return r.useEffect(()=>{const n=window.matchMedia("(max-width: 768px)");d(n.matches);const _=f=>d(f.matches);return n.addEventListener("change",_),()=>n.removeEventListener("change",_)},[]),t.jsx(F.Provider,{value:g,children:p})}function v(){const p=r.useContext(F);if(p===void 0)throw new Error("useMobile must be used within a MobileProvider");return p}const y="_AppStoresFirst_10a9l_2",b="_AppStoresFirst__container_10a9l_16",w="_AppStoresFirst__items_10a9l_24",j="_AppStoresFirst__item_10a9l_24",N="_AppStoresFirst__item_1_10a9l_40",R="_AppStoresFirst__item_2_10a9l_46",E="_AppStoresFirst__item_3_10a9l_52",M="_AppStoresFirst__text_10a9l_61",$="_AppStoresFirst__stores_10a9l_72",z="_AppStoresFirst__store_10a9l_72",e={AppStoresFirst:y,AppStoresFirst__container:b,AppStoresFirst__items:w,AppStoresFirst__item:j,AppStoresFirst__item_1:N,AppStoresFirst__item_2:R,AppStoresFirst__item_3:E,AppStoresFirst__text:M,AppStoresFirst__stores:$,AppStoresFirst__store:z},C="/tam-tam-prod/assets/images/app-stores-google.svg",P="/tam-tam-prod/assets/images/app-stores-rustore.svg",k="/tam-tam-prod/assets/images/app-stores-appgallery.svg",G="/tam-tam-prod/assets/images/app-stores-appstore.svg",L="/tam-tam-prod/assets/images/app-stores-item-1.png",O="/tam-tam-prod/assets/images/app-stores-item-1.avif",I="/tam-tam-prod/assets/images/app-stores-item-1.webp",Q="/tam-tam-prod/assets/images/app-stores-item-2.png",W="/tam-tam-prod/assets/images/app-stores-item-2.avif",q="/tam-tam-prod/assets/images/app-stores-item-2.webp",B="/tam-tam-prod/assets/images/app-stores-item-3.png",D="/tam-tam-prod/assets/images/app-stores-item-3.avif",H="/tam-tam-prod/assets/images/app-stores-item-3.webp",J="/tam-tam-prod/assets/images/app-stores-text-1-desk.svg",K="/tam-tam-prod/assets/images/app-stores-text-1-mob.svg",u=[{img:{img:L,avif:O,webp:I},angle:3,className:e.AppStoresFirst__item_1,duration:4.5,delay:.3},{img:{img:Q,avif:W,webp:q},angle:6,className:e.AppStoresFirst__item_2,duration:3,delay:.5},{img:{img:B,avif:D,webp:H},angle:7,className:e.AppStoresFirst__item_3,duration:4,delay:.1}];function V({id:p,isActive:g}){const d=v(),n=r.useRef(null),_=r.useRef([]),f=r.useRef(null),S=r.useRef([]),c=r.useRef(null);return r.useEffect(()=>{const i=A.context(()=>{if(!c.current){const o=A.timeline({paused:!0});_.current.forEach((s,a)=>{if(!s)return;const l=u[a].angle;o.to(s,{opacity:1,rotation:l,duration:1,ease:"linear"},.3)}),_.current.forEach((s,a)=>{if(!s)return;const l=u[a].angle,x=u[a].duration,h=u[a].delay;o.to(s,{rotation:-l,duration:x,repeat:-1,yoyo:!0,ease:"none",delay:h},1.3)}),o.to(f.current,{scale:1,duration:1.2,ease:"elastic.out(0.9, 0.6)"},1);const m=[1.25,1.3,1.25,1.3];S.current.forEach((s,a)=>{s&&o.to(s,{scale:1,duration:1,ease:"elastic.out(0.9, 0.6)"},m[a])}),c.current=o}},n);return()=>i.revert()},[]),r.useEffect(()=>{c.current&&(g?c.current.restart():c.current.pause())},[g]),t.jsx("div",{ref:n,className:e.AppStoresFirst,children:t.jsxs("div",{id:p,className:e.AppStoresFirst__container,children:[t.jsx("ul",{className:e.AppStoresFirst__items,children:u.map(({img:i,className:o},m)=>t.jsx("li",{ref:s=>_.current[m]=s,className:`${e.AppStoresFirst__item} ${o}`,style:{opacity:0},children:t.jsxs("picture",{children:[t.jsx("source",{type:"image/avif",srcSet:i.avif}),t.jsx("source",{type:"image/webp",srcSet:i.webp}),t.jsx("img",{src:i,width:"395",height:"395",alt:"",loading:"lazy"})]})},m))}),t.jsx("div",{ref:f,className:e.AppStoresFirst__text,style:{transform:"scale(0)",transformOrigin:"center"},children:t.jsx("img",{src:d?K:J,width:"970",height:"296",alt:"Играй на телефоне",loading:"lazy"})}),t.jsx("ul",{className:e.AppStoresFirst__stores,children:[{src:G,className:e.AppStoresFirst__store_app,href:"#",alt:"Логотип AppStore"},{src:C,className:e.AppStoresFirst__store_google,href:"#",alt:"Логотип GooglePlay"},{src:k,className:e.AppStoresFirst__store_gallery,href:"#",alt:"Логотип AppGallery"},{src:P,className:e.AppStoresFirst__store_ru,href:"https://www.rustore.ru/catalog/app/ru.laba.iching",alt:"Логотип RuStore"}].map(({src:i,className:o,href:m,alt:s},a)=>t.jsx("li",{ref:l=>S.current[a]=l,className:`${e.AppStoresFirst__store} ${o}`,style:{transform:"scale(0)",transformOrigin:"center"},children:t.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",children:t.jsx("img",{src:i,loading:"lazy",alt:s})})},a))})]})})}export{V as A,U as M,v as u};
