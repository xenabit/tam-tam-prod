import{r as n,j as e,u as k,a as y}from"./vendor-Czmxryr-.js";import{u as E}from"./carousel-Bzu2ey52.js";import{u as N}from"./appstoresfirst-DNn6-CCo.js";import{u as O}from"./footer-ou05yifC.js";import{L}from"./ui-CUuf02DM.js";import{u as I,m as T}from"./framer-motion-C-ES3002.js";const j=n.createContext();function G({children:o}){const[u,r]=n.useState(window.innerWidth<=window.innerHeight);return n.useEffect(()=>{const m=()=>{r(window.innerWidth<=window.innerHeight)};let l;const i=()=>{clearTimeout(l),l=setTimeout(m,50)};return window.addEventListener("resize",i),window.addEventListener("orientationchange",i),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",i),clearTimeout(l)}},[]),e.jsx(j.Provider,{value:u,children:o})}function A(){const o=n.useContext(j);if(o===void 0)throw new Error("useOrientation must be used within an OrientationProvider");return o}const P="_Header_1vavj_2",S="_active_1vavj_28",M="_Header__menu_1vavj_37",R="_Header__toggle_1vavj_40",z="_Header__link_1vavj_79",$="_Header__logo_1vavj_104",B="_Header__space_1vavj_132",s={Header:P,active:S,Header__menu:M,Header__toggle:R,Header__link:z,Header__logo:$,Header__space:B};function K(){const[o,u]=n.useState(!1),[r,m]=n.useState(!1),[l,i]=n.useState(!1),t=N(),H=o&&t,v=k(),f=A(),p=y(),{isIntroSection:c,animalChangeCount:h}=E(),{handleNavigation:g}=O(),a=I(),x=n.useRef(h),w=H?{fill:"#5B71C1",outline:"#FCCD67"}:null,b={header:{scale:1,position:"absolute",top:"50%",left:t?0:"50%",right:"auto",x:t?0:"-50%",y:"-50%",transition:{duration:.5,ease:"easeOut"}},intro:{width:"auto",height:t?"13vh":"100%",scale:t?3.6:4.2,position:"absolute",top:t||f?"50vh":"310%",left:"50%",x:"-50%",y:"-50%",transition:{duration:.5,ease:"easeOut"}},entry:{scale:t?4.6:6,transition:{type:"spring",stiffness:100,damping:15,mass:1,duration:.5}},jump:{scale:[t?4.6:6,t?4.8:6.2,t?4.55:5.95,t?4.65:6.05,t?4.6:6],transition:{duration:.8,times:[0,.3,.6,.8,1],ease:["easeOut","easeIn","easeOut","easeIn"]}},entered:{scale:t?4.6:6,width:"auto",height:t?"13vh":"100%",position:"absolute",top:t||f?"50vh":"310%",left:"50%",x:"-50%",y:"-50%",transition:{duration:.3,ease:"easeOut"}}};n.useEffect(()=>(o&&t?(document.body.classList.add("menu-open"),document.body.style.backgroundColor="#fdfdfd",document.documentElement.style.backgroundColor="#fdfdfd"):(document.body.classList.remove("menu-open"),document.body.style.backgroundColor="",document.documentElement.style.backgroundColor=""),()=>{document.body.classList.remove("menu-open"),document.body.style.backgroundColor="",document.documentElement.style.backgroundColor=""}),[o,t]),n.useEffect(()=>{let d,C;return c?(a.start("intro"),r?a.start("entered"):d=setTimeout(()=>{a.start("entry").then(()=>{a.start("entered"),m(!0)})},800)):(a.stop(),a.start("header"),m(!1),i(!1)),()=>{clearTimeout(d),clearTimeout(C),a.stop()}},[c,a,t,r]),n.useEffect(()=>{c&&r&&h!==x.current&&(x.current=h,l||(i(!0),a.start("jump").then(()=>a.start("entered")).then(()=>{i(!1)})))},[h,c,r,a,l]);const _=n.useCallback(d=>{t&&u(!1),g(d,v,p)},[g,v,p,t]);return e.jsx("header",{className:`${s.Header} ${o&&t?s.active:""}`,children:e.jsxs("div",{className:s.Header__menu,children:[e.jsx(T.div,{className:s.Header__logo,variants:b,initial:"intro",animate:c?a:"header","data-testid":"header-logo","aria-label":"Логотип проекта",children:e.jsx(L,{viewBox:c?"0 0 124 150":t?"0 0 124 124":"0 0 124 150",overrideFromMenu:w})}),e.jsx("nav",{role:"navigation","aria-label":"Основная навигация",children:e.jsxs("ul",{children:[e.jsx("li",{className:s.Header__link,children:e.jsx("a",{href:"#slider",onClick:_,"aria-current":window.location.hash==="#anchorchar"?"page":void 0,"aria-label":"Перейти к разделу персонажей",children:e.jsx("span",{children:"Персонажи"})})}),e.jsx("li",{className:s.Header__link,children:e.jsx("a",{href:"#carousel",onClick:_,"aria-current":window.location.hash==="#anchorgame"?"page":void 0,"aria-label":"Перейти к разделу игр",children:e.jsx("span",{children:"Игры"})})}),e.jsx("li",{className:s.Header__space}),e.jsx("li",{className:s.Header__link,children:e.jsx("a",{href:"#channels",onClick:_,"aria-current":window.location.hash==="#anchorchannels"?"page":void 0,"aria-label":"Перейти к разделу наших каналов",children:e.jsx("span",{children:"Наши каналы"})})}),e.jsx("li",{className:s.Header__link,children:e.jsx("a",{href:"#news",onClick:_,"aria-current":window.location.hash==="#anchorapp"?"page":void 0,"aria-label":"Перейти к разделу новостей",children:e.jsx("span",{children:"Новости"})})})]})}),e.jsxs("button",{type:"button",className:s.Header__toggle,onClick:()=>u(d=>!d),"aria-label":"Открыть/закрыть меню","aria-expanded":o,"aria-controls":"main-navigation",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})]})})}export{K as H,G as O,A as u};
