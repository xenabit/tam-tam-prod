import{r as s,j as x}from"./vendor-CkbNOv59.js";const u=s.createContext();function p({children:f}){const n=s.useCallback((t,r=1500)=>{if(!document.getElementById(t))return console.warn(`Секция с id "${t}" не найдена`),!1;const e=["intro","slider","storesFirst","carousel","channels","storesSecond","news","footer"].indexOf(t);if(e===-1)return!1;const i=document.querySelector(".scroll-container");if(!i)return!1;const c=i.querySelectorAll(".section");if(!c[e])return!1;const l=new IntersectionObserver(v=>{v.forEach(m=>{if(m.isIntersecting){const g=new CustomEvent("sectionChange",{detail:{sectionId:t}});window.dispatchEvent(g)}})},{root:i,threshold:.8});return l.observe(c[e]),c[e].scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{l.disconnect()},r),window.history.pushState(null,"",`#${t}`),!0},[]),d=s.useCallback((t,r,a)=>{t.preventDefault();const o=t.currentTarget.getAttribute("href");if(!o||!o.startsWith("#"))return;const e=o.substring(1);if(a.pathname!=="/tam-tam-prod/"){r(`/#${e}`),setTimeout(()=>{n(e)},100);return}n(e)},[n]),h={scrollToSection:n,handleNavigation:d};return x.jsx(u.Provider,{value:h,children:f})}const w=()=>s.useContext(u);export{p as N,w as u};
